{
  "kind": "build_request",
  "title": "Fix blank page by ensuring a valid React entry point mounts the app",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-20",
      "text": "Ensure the app always mounts a React element tree to the #root element (render <App /> wrapped with the required providers) so the UI is not blank when running locally, even if a user’s downloaded copy of frontend/src/main.tsx contains an empty render() call.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "same, this is the content of main.tsx ... ReactDOM.createRoot(document.getElementById(\"root\")).render( );"
        ]
      },
      "acceptanceCriteria": [
        "Running `pnpm run dev` renders the site content (header/nav and Home page) instead of a blank screen.",
        "The React entry point renders `<App />` and includes `QueryClientProvider` and `InternetIdentityProvider` wrappers exactly once (no duplicate React Query provider in the mounted tree).",
        "No user-facing text is changed as part of this fix (only mounting/bootstrapping behavior)."
      ]
    },
    {
      "id": "REQ-21",
      "text": "Do not modify any files in the immutable frontend paths; if an entry-point change is required to guarantee mounting, implement it via a new entry module (e.g., a new src file) and update frontend/index.html to import that new entry module instead of editing frontend/src/main.tsx.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "same, this is the content of main.tsx ... ReactDOM.createRoot(document.getElementById(\"root\")).render( );"
        ]
      },
      "acceptanceCriteria": [
        "No changes are made to any immutable paths listed by the platform (including frontend/src/main.tsx and Internet Identity hook files).",
        "frontend/index.html loads the new entry module and the app renders correctly.",
        "The build (`pnpm run build`) and preview (`pnpm run preview`) still work and show the same pages/routes."
      ]
    }
  ],
  "constraints": [
    "Frontend immutable paths must not be edited (including frontend/src/main.tsx, frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, and frontend/src/components/ui/*).",
    "Keep a single React Query QueryClientProvider in the rendered tree (no duplicates).",
    "Use English for any user-facing text."
  ],
  "nonGoals": [
    "Adding new pages or new business features.",
    "Changing the website’s design/theme/content beyond what is necessary to fix the blank render.",
    "Backend changes or state migrations."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}